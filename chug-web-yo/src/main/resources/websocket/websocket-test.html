<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Spring Boot WebSocket æµ‹è¯•</title>
</head>
<body>
<h2>WebSocket æµ‹è¯•é¡µé¢</h2>
<input id="msg" type="text" placeholder="è¾“å…¥æ¶ˆæ¯">
<button onclick="sendMsg()">å‘é€</button>
<div id="log" style="margin-top: 20px; border: 1px solid #ccc; padding: 10px; height: 200px; overflow-y: auto;"></div>

<script>
    let remoteHost = "localhost:8081"
    let remoteAddress = "ws://" + remoteHost + "/websocket-endpoint";
    let ws = new WebSocket(remoteAddress);
    let logDiv = document.getElementById("log");

    ws.onopen = () => log("âœ… å·²è¿æ¥æœåŠ¡å™¨");
    ws.onmessage = (event) => log("ğŸ“© æ”¶åˆ°: " + event.data);
    ws.onclose = () => log("âŒ è¿æ¥å·²å…³é—­");
    ws.onerror = (err) => log("âš ï¸ é”™è¯¯: " + err);

    function sendMsg() {
        let msg = document.getElementById("msg").value;
        ws.send(msg);
        log("ğŸ“¤ å‘é€: " + msg);
    }

    function log(message) {
        logDiv.innerHTML += message + "<br>";
        logDiv.scrollTop = logDiv.scrollHeight;
    }
</script>
</body>
</html>